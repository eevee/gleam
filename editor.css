ul, ol {
    margin: 0;
    padding: 0;
    list-style: none;
}

html {
    height: 100%;
}
body {
    display: grid;
    grid-template:
        "assets components player" 1fr
        "assets components steps " 1fr
    ;
    height: 100%;
    margin: 0;

    background: #404040;
    color: white;
    font-size: 18px;
}
body > section {
    /* FIXME can't figure out how to make the grid not expand without this */
    overflow: auto;
    border: 2px solid #101010;
}
body > section > header {
    margin: 0;
    padding: 0.33em 0.5em;
    background: #202020;
}
body > section > header h1 {
    margin: 0;
}
#gleam-editor-player {
    grid-area: player;
}
#gleam-editor-components {
    grid-area: components;
}
#gleam-editor-assets {
    grid-area: assets;
}
#gleam-editor-steps {
    grid-area: steps;
}

body > section.gleam-editor-drag-hover {
    border-color: hsl(210, 50%, 6.25%);
    background-color: hsl(210, 50%, 25%);
}
body > section.gleam-editor-drag-hover > header {
    background-color: hsl(210, 50%, 12.5%);
}

ol.gleam-editor-components {
}
ol.gleam-editor-components > li {
    margin: 0.5em;
    border: 1px solid #202020;
    background: white;
    color: #202020;
}
ol.gleam-editor-components > li h2 {
    padding: 0.25em 0.5em;
    margin: 0;
    background: hsl(0, 0%, 75%);
}
ol.gleam-editor-components > li h3 {
    margin: 0.5em 0 0;
    padding: 0.125em 0.5em;
    border-bottom: 2px solid #404040;
    font-weight: normal;
    font-size: 1.2em;
}
ul.gleam-editor-component-pictureframe-poses {
    margin: 0.5em;
    display: grid;
    grid-template-columns: repeat(auto-fill, minmax(100px, 1fr));
}
ul.gleam-editor-component-pictureframe-poses img {
    display: block;
    max-width: 100px;
    max-height: 100px;
    margin: 0 auto;
}

/* Asset panel */
.gleam-editor-assets li {
    padding: 0.33em;
    margin: 0.5em;
    background: #383838;
}
.gleam-editor-assets li.-missing {
    background: #803838;
}

/* Script panel */
#gleam-editor-steps {
    /* Need this for positioning the drag caret */
    position: relative;
}
ol.gleam-editor-steps {
    position: relative;
    display: flex;
    margin: 0.5em 1em;
    padding: 0;
    flex-direction: column;

    /* make room for numbers */
    padding-left: 1em;
    counter-reset: beat;
}
ol.gleam-editor-steps > li {
    margin: 0.25em 0;
    border: 1px solid #202020;
    box-shadow: 0 0.125em 0.25em #202020;
}
ol.gleam-editor-steps > li::before {
    counter-increment: beat;
    content: counter(beat);
    display: block;
    position: absolute;
    width: 1em;
    margin-left: -1.5em;
    text-align: right;
}
/* Step currently showing on stage */
ol.gleam-editor-steps > li.--current {
    outline: 2px solid gold;
}
.gleam-editor-step-caret {
    position: absolute;
    z-index: 99;
    margin: 0;
    margin-top: -2px;  /* overlap the border */
    /* These should match the total horizontal margin on an <li> */
    left: 2em;
    right: 1em;
    height: 3px;
    border: none;
    background: hsl(210, 90%, 60%);
}

/* Steps, used in components and the script panel */
.gleam-editor-step {
    display: flex;
    background: #f0f0f0;
    color: #202020;
}
.gleam-editor-step.gleam-editor--dragged-step {
    opacity: 0.5;
}
.gleam-editor-step + .gleam-editor-step {
    border-top: 1px solid #aaa;
}
.gleam-editor-step > .-who {
    z-index: 1;
    padding: 0.25em 0.5em;
    padding-right: 1em;
    background: hsl(0, 0%, 75%);
    border-top-right-radius: 0.75em 1em;
    border-bottom-right-radius: 0.75em 1em;
}
.gleam-editor-step > .-what {
    padding: 0.25em 0.5em;
    margin-left: -1em;
    padding-left: 1.5em;
    padding-right: 1em;
    background: hsl(0, 0%, 82.5%);
    border-top-right-radius: 0.75em 1em;
    border-bottom-right-radius: 0.75em 1em;
}
.gleam-editor-step > .-how {
    margin: 0.25em 0.5em;
}
.gleam-editor-step > .-how p {
    margin: 0.25em;
}

/* Step arguments */
.gleam-editor-arg-prose {
    white-space: pre-wrap;
}


/* Special styling for particular actor types; applies to steps and to the
 * headers of their properties in the actor list */
/* Stage */
.gleam-editor-step.gleam-editor-actor-stage > .-who,
ol.gleam-editor-components > li.gleam-editor-actor-stage h2 {
    background: hsl(0, 50%, 75%);
}
.gleam-editor-step.gleam-editor-actor-stage > .-who::before,
ol.gleam-editor-components > li.gleam-editor-actor-stage h2::before {
    content: 'üìª';
    margin-right: 0.25em;
}
/* Jukebox */
.gleam-editor-step.gleam-editor-actor-jukebox > .-who,
ol.gleam-editor-components > li.gleam-editor-actor-jukebox h2 {
    background: hsl(270, 50%, 75%);
}
.gleam-editor-step.gleam-editor-actor-jukebox > .-who::before,
ol.gleam-editor-components > li.gleam-editor-actor-jukebox h2::before {
    content: 'üìª';
    margin-right: 0.25em;
}
/* Picture frame */
.gleam-editor-step.gleam-editor-actor-pictureframe > .-who,
ol.gleam-editor-components > li.gleam-editor-actor-pictureframe h2 {
    background: hsl(330, 50%, 75%);
}
.gleam-editor-step.gleam-editor-actor-pictureframe > .-who::before,
ol.gleam-editor-components > li.gleam-editor-actor-pictureframe h2::before {
    content: 'üñºÔ∏è';
    margin-right: 0.25em;
}
/* Character */
.gleam-editor-step.gleam-editor-actor-character > .-who,
ol.gleam-editor-components > li.gleam-editor-actor-character h2 {
    background: hsl(210, 50%, 75%);
}
.gleam-editor-step.gleam-editor-actor-pictureframe > .-who::before,
ol.gleam-editor-components > li.gleam-editor-actor-pictureframe h2::before {
    content: 'üó£Ô∏è';
    margin-right: 0.25em;
}
